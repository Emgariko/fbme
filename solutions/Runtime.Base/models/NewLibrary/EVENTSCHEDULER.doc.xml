<?xml version="1.0" encoding="UTF-8"?>  
<section xmlns="http://docbook.org/ns/docbook"
        xmlns:xi="http://www.w3.org/2001/XInclude"
        xmlns:xlink="http://www.w3.org/1999/xlink">
  <info>
    <author>
       <personname>
          <firstname></firstname>
          <surname></surname>
       </personname>
       <email></email>
    </author>
    <abstract><wysiwyg_a><p> </p><p> </p><div class="caution" style="MARGIN-LEFT: 0.5in; MARGIN-RIGHT: 0.5in">
<table border="0">
<tbody>
<tr>
<td valign="top" rowspan="2" width="25" align="center"><img alt="[caution]" src="${DocImages}/caution.png" /></td>
<th align="left">TITLE</th></tr>
<tr>
<td valign="top" align="left">
<p>This FB is obsolete and will be supported no longer.</p>
<p>Please use PRIOSCHEDULER instead.</p></td></tr></tbody></table></div><p>This function block is used for time scheduler sequences.</p><p>This is a generic function block, the number of Channels can be defined from 1 to 64. The data type of all ports is static.</p><p>(More information about generic blocks: Studio help (press F1) at Solution→Distributed PAC Project→Editors→System Editor)</p><p>
</p><p /><p>
</p><p /><p>
  </p></wysiwyg_a></abstract>
  </info>
<wysiwyg><p>
    <strong>Temporal Behavior</strong> </p><p>'INIT'-Event input:</p><p>Performs the initialization and captures the QI-input</p><p>If input 'QI' is TRUE the initialization of the block can happen</p><p> 'QO' is set to TRUE</p><p> 'INITO' is fired</p><p>If input 'QI' is FALSE the block will be deinitialized</p><p> 'QO' is set to FALSE</p><p> 'INITO' is fired</p><p> </p><p /><p>'SET'-Event input: </p><p>If 'QI' is TRUE and 'INIT' has worked properly it executes the writing of the message</p><p> A 'SETO'-Event is fired</p><p>If 'QI' is FALSE no further action (FB deinitialized) </p><p> </p><p>'INITO'-Event output:</p><p>is fired after each INIT</p><p> </p><p>'SETO'-Event output:</p><p>is fired after a triggered SET, if the FB is initialized properly</p><p> </p><p>'IND'-Event output:</p><p>is fired when defined point of time out of SCHEDULE occurs, in conjunction with that the respective CHANNEL containes the defined value.</p><p>After an INIT when the FB looks back in time for the last event to set, it will provide a value at one or more channels but in this case <u>no</u> IND-event is fired.</p><p> </p><p><strong>Functional Behavior</strong></p><p>'QI'-input:</p><p>if TRUE, function block can be initialized.</p><p>If set FALSE the block will be deinitialized.</p><p> </p><p>'FIRSTCHANNEL'-input:</p><p>Defines the channel number of CHANNEL1. CHANNEL1 is equal to FIRSTCHANNEL. CHANNEL2 gets the number of CHANNEL1 plus one.</p><p>If FIRSTCHANNEL=0 CHANNEL1=0</p><p>With this feature it is possible to use several EVENTSCHEDULER blocks with various channel definitions but only one list to provide 'SCHEDULE'.</p><p> </p><p>'MAXINITTIME'-input:</p><p>Maximum time the FB looks back in time after INIT to trigger an event that has to happen. This is to fetch the event that has happened before the INIT event has arrived. Only the last event out of the list, that had happened before INIT and within the MAXINITTIME, will be considered. The FB will look no further back in time, even if MAXINITTIME is set to 24 hours or more.</p><p> </p><p>'SCHEDULE'-input:</p><p>Use the cron format for the SCHEDULE string. If using a list of sequences, seperate them with a semicolon.</p><p>Format:</p><p>(min hr day mon wday year ch val; min hr...)</p><p>each value can be a single number or a list of numbers divided by a comma (min,min hr,hr,hr day mon wday year ch val,val; min hr...)</p><p>Possible values: </p><p>general: * means always, it is used if no specific value is set</p><p>min: [*] [0-59] hr: [*] [0-23] day: [*] [1-31] mon: [*] [1-12]</p><p>wday: [*] [0-7] 0 and 7 = sunday, 1 = monday, 2 = tuesday, etc.</p><p>year: [*] [####]</p><p>ch: [0 - 999999] this value has to be the result of the 'CHANNELn' output number of the FB + the defined value of 'FIRSTCHANNNEL'-input</p><p>val: [0 - 999999]</p><p> </p><p><u>Examples:</u></p><p /><table class="table" style="WIDTH: 80%" cols="2" width="80%" align="left" border="2">
<caption valign="top" align="left">Scheduler example strings</caption>
<thead>
<tr>
<td width="40%">String</td>
<td width="60%">Description</td></tr></thead>
<tbody>
<tr>
<td>0 * * * * * 0 1</td>
<td>Sets on every hour, on minute 0 channel 0 to value 1</td></tr>
<tr>
<td>30 7 * * * * 1 50</td>
<td>Sets every day on 07:30 channel 1 to value 50</td></tr>
<tr>
<td>0 17 1 1,2 * * 2 80</td>
<td>Sets on first january and first february on 17:00 the channel 2 to value 80</td></tr>
<tr>
<td>15,45 * * * 1,3 * 3 0</td>
<td>Sets on monday and wednesday every hour on minute 15 and 45 channel 3 to value 0</td></tr></tbody></table><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p>The definition of the point of time can only be the exact minute. Somewhere in this defined minute the event will happen.</p><p> </p><p>'QO'-output:</p><p>shows status of the block </p><p>TRUE is ready</p><p>FALSE is deinitialized or error</p><p> </p><p>'STATUS'-output:</p><p>Blank if no error</p><p>Shows error message when an error occures. (i.e.: Syntax error in schedule definition at position 21)</p><p>If a SET is triggered but the FB is deinitialized a specific error message will appear not until the FB is initialized properly.</p><p> </p><p>'CHANNELn'-output:</p><p>Outputs value(s) defined at 'SCHEDULE'</p><p>
</p><p /><p>
</p><p /><p>
  </p></wysiwyg></section>

