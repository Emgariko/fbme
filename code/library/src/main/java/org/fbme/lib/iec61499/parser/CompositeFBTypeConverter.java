package org.fbme.lib.iec61499.parser;

/*Generated by MPS */

import org.fbme.lib.iec61499.declarations.CompositeFBTypeDeclaration;
import org.jetbrains.annotations.Nullable;
import org.fbme.lib.common.Identifier;

public class CompositeFBTypeConverter extends DeclarationConverterBase<CompositeFBTypeDeclaration> {

  public CompositeFBTypeConverter(ConverterArguments arguments) {
    super(arguments);
  }

  @Override
  protected CompositeFBTypeDeclaration extractDeclarationBody(@Nullable Identifier identifier) {
    assert myElement != null;

    CompositeFBTypeDeclaration fbtd = myFactory.createCompositeFBTypeDeclaration(identifier);
    new FBInterfaceConverter(this, fbtd).extractInterface();
    new FBInterfaceAdaptersConverter(this, fbtd).extractAdapters();
    FBNetworkConverter fbNetworkConverter = this.createFBNetworkConverter(fbtd);
    fbNetworkConverter.extractNetwork();
    return fbtd;
  }

  protected FBNetworkConverter createFBNetworkConverter(CompositeFBTypeDeclaration fbtd) {
    return new FBNetworkConverter(with(myElement.getChild("FBNetwork")), fbtd.getNetwork());
  }
}
